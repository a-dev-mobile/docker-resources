# Docker Resources

Инструмент для мониторинга ресурсов и контейнеров Docker на удаленных серверах. Позволяет собирать информацию о нескольких серверах одновременно и представлять ее в различных форматах.

## Возможности

- Параллельное подключение к серверам
- Сбор информации о системе, ресурсах и Docker-контейнерах
- Подробный анализ использования ресурсов каждым контейнером
- Вывод в различных форматах (текст, JSON, CSV)
- Сохранение результатов в файл

## Требования

На локальном компьютере:
- Python 3.6 или выше
- Библиотеки: paramiko, prettytable

На удаленных серверах:
- SSH-сервер
- Docker
- Желательно (но не обязательно): утилита jq для форматирования JSON

## Установка

### Из исходного кода

```bash
# Клонирование репозитория
git clone <url_репозитория>
cd docker-resources

# Установка зависимостей
pip install -r requirements.txt

# Установка пакета (опционально)
pip install -e .
```

### С помощью pip

```bash
pip install docker-resources
```

## Использование

### Подготовка

Создайте файл `servers.txt` со списком серверов:

```
user@server1
user@server2
user@server3:2222  # Указание нестандартного порта SSH
admin@server4:2233  # Другой пользователь и порт
```

### Запуск

```bash
# Базовое использование
python -m docker_resources

# С указанием файла серверов и ключа SSH
python -m docker_resources -f my_servers.txt -k ~/.ssh/id_rsa

# С указанием формата вывода и имени выходного файла
python -m docker_resources --format json -o results.json
```

### Параметры командной строки

- `-f, --file` - путь к файлу со списком серверов (по умолчанию: servers.txt)
- `-o, --output` - файл для сохранения результатов
- `-k, --key` - файл приватного ключа SSH
- `--format` - формат вывода (text, json, csv)

## Примеры

```bash
# Сохранение отчета в CSV формате
python -m docker_resources --format csv -o servers_report.csv

# Использование с конкретным ключом SSH и выводом в JSON
python -m docker_resources -k ~/.ssh/server_key -f production_servers.txt --format json
```

## Советы по Debian

Если на удаленных серверах не установлена утилита `jq`, скрипт будет использовать альтернативные методы. Однако для лучшей поддержки рекомендуется установить её:

```bash
apt-get update && apt-get install -y jq
```

## Лицензия

MIT